<?php
include(__DIR__ . "/../config.inc.php");

echo "<script type='text/javascript' src='js/form_home.js'></script>";
$style = "<style>
    /* Flexbox-Layout für das Formular und dessen direkte Kinder anwenden */
    .form {
        display: flex;
        align-items: center;
        margin-bottom: 0; /* Entfernt den unteren Rand */
    }
    
    /* Flexbox-Layout für .row_field und dessen Kinder anwenden */
    .row_field {
        flex: 1;
        display: flex;
        align-items: center;
        margin-bottom: 0; /* Entfernt den unteren Rand */
    }
    
    /* Stellt sicher, dass alle direkten Kinder des Formulars in einer Zeile bleiben */
    .form > * {
        display: flex;
        align-items: center;
        margin-bottom: 0; /* Entfernt den unteren Rand */
        font-size: 0rem;
    }
    
</style>";

//echo $style;



echo "
<div style='width:800px'>
<div id='formEmaContainer'>
    <div class='ui active inverted dimmer'>
        <div class='ui text loader'>Loading...</div>
    </div>
</div";

exit;




// $server_list = "
// <div id='formEmaContainer'>
// <div class='ui active inverted dimmer'>
// <div class='ui text loader'>Loading...</div>
// </div>
// </div>";

?>

<script type='text/javascript' src='js/form_home.js'></script>
<div class="ui stackable grid" style='max-width: 1200px; text-align:left;'>
    <div class="eight wide column">
        <?= $server_list ?>
    </div>
    <div class="six wide column">
        <div class="ui fluid card">
            <div class="content">
                <div class="header">Current DAX Value</div>
                <div class="description">
                    <p>Dax: <span id='daxValue'>Waiting for data...</span></p>
                </div>
            </div>
        </div>
        <div class="ui info message">
            <div class="header">
                Information about the DAX Value
            </div>
            <p>This display updates the DAX value in real-time. Please wait while the latest data is being
                loaded.</p>
        </div>

        <!-- 
        <script type=\"text/javascript\">
        $(document).ready(function() {
            var socket = new WebSocket('ws://85.215.176.20:6969/ws');

            socket.onopen = function(event) {
                console.log('WebSocket connection established.');
            };

            socket.onmessage = function(event) {
                updateDaxValue(event.data);
            };

            socket.onclose = function(event) {
                console.log('WebSocket connection closed.');
            };

            socket.onerror = function(error) {
                console.error('WebSocket error:', error);
            };
        });
        </script> -->
    </div>
</div>

<form id="smartForm2" name="smartForm2" class="ui form">
    <div id="row_field-101" class="field row_field green"
        style="flex: 1; display: flex; align-items: center; margin-bottom: 0;">
        <!-- Verwenden Sie einen Button anstelle eines div für klickbare Aktionen -->
        <button title="" class="tooltip button ui icon green" onclick="post_ema('startMT5','','4')"
            style="flex: 1; display: flex; align-items: center; margin-bottom: 0;">
            <i class="icon play"></i> Start MT5
        </button>
    </div>
    <input type="hidden" name="form_id" value="smartForm2">
    <input type="hidden" name="data" value="">
</form>