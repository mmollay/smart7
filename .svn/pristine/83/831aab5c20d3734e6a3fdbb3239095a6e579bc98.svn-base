<?php
// Configuration for MySQL data fetching
$arr['mysql'] = array(
    'table' => "ssi_trader.deposits
                LEFT JOIN ssi_trader.clients ON deposits.client_id = clients.client_id
                LEFT JOIN ssi_trader.profit_shares ON deposits.client_id = profit_shares.client_id",
    'field' => "deposits.deposit_id, 
                CONCAT(clients.first_name, ' ', clients.last_name) AS investor_name, 
                deposits.amount, 
                deposits.deposit_date, 
                deposits.description AS deposit_description, 
                profit_shares.profit_percentage AS profit_share_percentage, 
                profit_shares.start_date AS profit_start_date, 
                profit_shares.end_date AS profit_end_date, 
                profit_shares.comment AS profit_comment",
    'limit' => 25,
    'group' => 'deposits.deposit_id',
    'like' => 'client_name'
);

$arr['list'] = array('id' => 'investment', 'width' => '1200px', 'size' => 'small', 'class' => 'compact celled striped definition');

// Defining table headers
$arr['th']['deposit_id'] = array('title' => "ID");
$arr['th']['investor_name'] = array('title' => "Investor Name");
$arr['th']['amount'] = array('title' => "Deposit Amount ($)", 'format' => 'number', 'align' => 'right');
$arr['th']['deposit_date'] = array('title' => "<i class='calendar icon'></i>Deposit Date", 'align' => 'center');
//$arr['th']['description'] = array('title' => "Description");
$arr['th']['profit_share_percentage'] = array('title' => "Profit Share (%)");
$arr['th']['profit_start_date'] = array('title' => "<i class='calendar icon'></i>Start Date");
$arr['th']['profit_end_date'] = array('title' => "<i class='calendar icon'></i>End Date");
$arr['th']['profit_comment'] = array('title' => "Comment");

// Buttons for creating new records and editing or deleting existing ones
$arr['top']['button']['modal_form'] = array('title' => 'Add Investment', 'icon' => 'plus', 'class' => 'green circular');

$arr['tr']['buttons']['left'] = array('class' => 'tiny');
$arr['tr']['button']['left']['modal_form_edit'] = array('title' => '', 'icon' => 'edit', 'class' => 'blue', 'popup' => 'Edit Investment');

$arr['tr']['buttons']['right'] = array('class' => 'tiny');
$arr['tr']['button']['right']['modal_form_delete'] = array('title' => '', 'icon' => 'trash alternate', 'popup' => 'Delete Investment', 'class' => 'red');

// Modal configurations for editing and deleting
$arr['modal']['modal_form'] = array('title' => 'Edit Investment', 'class' => 'resizable scrolling content', 'url' => 'form_edit.php');
$arr['modal']['modal_form']['button']['submit'] = array('title' => 'Save', 'color' => 'blue', 'form_id' => 'form_edit');
$arr['modal']['modal_form']['button']['cancel'] = array('title' => 'Cancel', 'color' => 'grey', 'icon' => 'cancel');

$arr['modal']['modal_form_delete'] = array('title' => 'Confirm Deletion', 'class' => 'small', 'url' => 'form_delete.php');

