<?php
ini_set ( 'display_errors', 1 );
ini_set ( 'display_startup_errors', 1 );
error_reporting ( E_ERROR | E_PARSE );
error_reporting ( 1 );

if ($_SERVER ['REQUEST_METHOD'] === 'POST') {
	$filename = $_SERVER ['DOCUMENT_ROOT'] . "/smart7/smartform/" . $_POST ['url'];

	require_once ('php_image_magician.php');

	// Überprüfe, ob der 'direction'-Parameter gesetzt ist, und weise ihn einer Variablen zu
	$direction = isset ( $_POST ['direction'] ) ? $_POST ['direction'] : 'right'; // Standardwert 'right', falls nicht gesetzt

	$magicianObj = new imageLib ( $filename );
	$magicianObj->rotate ( $direction );
	$magicianObj->saveImage ( $filename, 100 );

	// Hier kannst du eine Antwort zurücksenden, falls erforderlich
	echo "Rotation to the" . $_POST ['direction'] . "";
}
?>
